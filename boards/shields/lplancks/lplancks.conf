# 1. Configurazione di base (che già avevamo)
CONFIG_ZMK_RGB_UNDERGLOW=y
CONFIG_WS2812_STRIP=y
CONFIG_ZMK_HID_INDICATORS=y

# 2. Configurazione specifica per il Widget di Awkannan
# Attiva la funzionalità che mostra un colore fisso per ogni layer.
# QUESTA E' LA RIGA CHIAVE CHE MANCAVA! Senza di questa, 
# la funzione update_layer_color() non viene neanche considerata.
CONFIG_RGBLED_WIDGET_SHOW_LAYER_COLORS=y

# Assegna un colore a ciascun layer. I numeri corrispondono
# all'indice nell'array 'color_def' nel file .c
# 0=Nero(spento), 1=Rosso, 2=Verde, 3=Giallo, 4=Blu, ecc.

# Layer 0 (default) -> Spento
CONFIG_RGBLED_WIDGET_LAYER_0_COLOR=0

# Layer 1 -> Blu (indice 4)
CONFIG_RGBLED_WIDGET_LAYER_1_COLOR=4

# Puoi aggiungere altri layer se vuoi
# CONFIG_RGBLED_WIDGET_LAYER_2_COLOR=2

# Imposta un valore di default per l'intervallo di blink,
# usato da altre parti del widget. È una buona pratica averlo.
CONFIG_RGBLED_WIDGET_INTERVAL_MS=20